<!DOCTYPE html>
<html ng-app="chezYenApp">
<head>
	<meta charset="ISO-8859-1">
	<title>Gestion des clients</title>
	<link type="text/css" rel="stylesheet" href="../css/bootstrap.css" />
	<link type="text/css" rel="stylesheet" href="../css/bootstrap-theme" />
	<link type="text/css" rel="stylesheet" href="../css/gestion_clients.css" />
	<script type="text/javascript" src="../js/jquery-2.2.0.js"></script>
	<script type="text/javascript" src="../js/angular.js"></script>
	<script type="text/javascript" src="../js/angular-route.js"></script>
	<script type="text/javascript" src="../js/gestion_clients.js"></script>
	<script type="text/javascript" src="../js/productController.js"></script>
	<script type="text/javascript" src="../js/chezYenDirective.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
<script>
$(document).ready(function(){
	$("#nouveauClient").on('click', function() {
		console.log("clicked");
		$("#panelNouveauClient").slideToggle(600);
	});
});
</script>
</head>
<body id="body">
	<div id="chezYenBar">
		<img id="left" src="../images/logo_stylise.png" class="img-responsive center-block"/>
		<div id="center">
			<h3 style="color:#fff8d7;"><a style="color:#fff8d7;" href="index.html">ACCEUIL</a> / GESTION CLIENTS</h3>
		</div>
		<img id="right" src="../images/logo_stylise.png" class="img-responsive center-block"/>
	</div>
	<div class="container">
		<div id="firstRow" class="row">
			<div class="col-sm-1">
			</div>
			<div class="col-sm-11"  ng-controller="clientCtrl" style="padding-right:30px;">
				<div id="nouveauClient" style="text-align:center;">
					Créer un nouveau client
				</div>
				<div id="panelNouveauClient">
					<div class="encadre" style="height:130px;">
		                <div style="text-align:center;">
		                	<label style="color:#c7b988;">Identité</label><br />
		                </div>
						<div style="width:45%;float:left;">
		                	<label>Nom</label><input type="text" class="form-control" ng-model="client_nom" />
		                </div>
		                <div style="width:45%;float:right;">
		                	<label>Prénom</label><input type="text" class="form-control"  ng-model="client_prenom" />
		                </div>
	                </div>
	                <div class="encadre">
		                <div style="text-align:center;">
		                	<label style="color:#c7b988;">Adresse</label><br />
		                </div>
		                <table id="tableAdresse" cellpadding="10px" style="width:100%">
		                	<tr>
		                		<td width="10%">
		                			<label>Numéro</label>
		                		</td>
		                		<td width="20%">
		                			<label>Voie</label>
		                		</td>
		                		<td width="28%">
		                			<label>Nom voie</label>
		                		</td>
		                		<td width="12%">
		                			<label>Code postal</label>
		                		</td>
		                		<td width="30%">
		                			<label>Ville</label>
		                		</td>
		                	</tr>
		                	<tr>
		                		<td>
		                			<input id="numVoie" type="text" class="form-control"  ng-model="client_numVoie" maxlength="8" style="width:80px;"/>
		                		</td>
		                		<td>
					                <select id="typeVoie" class="form-control" ng-model="client_typeVoie" style="width:170px">
					                	<option>Impasse</option>
					                	<option>Route</option>
					                	<option selected="selected">Rue</option>
					                	<option>Autre</option>
					                </select>
		                		</td>
		                		<td>
		                			<input id="nomVoie" type="text" class="form-control" ng-model="client_nomVoie" style="width:250px;"/>
		                		</td>
		                		<td>
		                			<input id="codePostal" type="text" class="form-control" ng-model="client_codePostal" maxlength="5" style="width:90px;"/>
		                		</td>
		                		<td>
		                			<input id="ville" type="text" class="form-control" ng-model="client_ville" style="width:290px;"/>
		                		</td>
		                	</tr>
		                </table>
	                </div>
	                <span class="input-group-btn">
	                    <button class="btn btn-default"
	                            ng-click="nouveau_client(client_nom, client_prenom, client_numVoie, client_typeVoie, client_nomVoie, client_codePostal, client_ville)">
	                            Ajouter client
	                    </button>
	                </span>
				</div>
				<table id="tableClients" class="table table-striped">
					<thead>
						<tr>
							<th>Nom</th>
							<th>Prénom</th>
							<th>Adresse</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="client in clients">
							<td>{{client.nom}}</td>
							<td>{{client.prenom}}</td>
							<td>{{client.adresse.numeroVoie + ", " +
								 client.adresse.typeVoie + " " + 
								 client.adresse.nomVoie + " " + 
								 client.adresse.codePostal + " " + 
								 client.adresse.ville}}
							 </td>
							<td>
								<button class="btn btn-default" ng-click="modifierClient(client.id)">Modifier</button>
								<button class="btn btn-danger" ng-click="supprimerClient(client.id)">Supprimer</button>
							</td>
						</tr>
				</table>
			</div>
		</div>
	</div>
</body>
</html>